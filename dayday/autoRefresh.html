<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>胡怼怼专用</title>
  <style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  .background {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: #000;
  }
  #info {
    position: absolute;
    width: 1000px;
    height: 100px;
    margin: auto;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    text-align: center;
    color: #333;
    background: #fff;
    opacity: 1;
    border-radius: 10px;
    padding: 20px;
    /*box-shadow: 0px 0px 50px #f2f2f2;*/
  }
  .setInt, .content {
    line-height: 50px;
  }
  input {
    border-radius: 3px;
    width: 100px;
    height: 28px;
    border: 1px solid #cecece;
    padding: 0 10px;
    margin: 0 10px;
  }
  button {
    border-radius: 15px;
    background: #333;
    width: 80px;
    line-height: 30px;
    border: 0;
    color: #fff;
    margin-left: 10px;
  }
  </style>
</head>
<body>
  <iframe id="myframe" width="100%" height="500px" frameBorder="0" src="https://www.mgtv.com/l/100017744/4255321.html" scrolling="no" style="position: absolute; left: 0;"></iframe>
  <div class="background"></div>
  <div id="info">
    <div class="content">
      <span>正在播放：</span>
      <span id="key">胡一天cut：现场跟“新女友”还原《小美好》</span>
    </div>
    <div class="setInt">
      <span>每隔<input id="time" type="text" value="9" />秒跳转到下一个视频</span>
      <button id="start">重置刷新</button>
    </div>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script>
    $(function () {
      var urls = [{
        key: '胡一天最新微电影《有那么一天》超燃来袭!',
        url: 'https://www.mgtv.com/l/100017744/4282634.html'
      }, {
        key: '《快乐大本营》胡一天特辑 夸张搞怪的“辣眼”动作引爆全场',
        url: 'https://www.mgtv.com/l/100017744/4269220.html'
      }, {
        key: '胡一天cut：现场跟“新女友”还原《小美好》',
        url: 'https://www.mgtv.com/l/100017744/4255321.html'
      }];

      var timer;
      function refresh (time) {
        var i = 0;
        timer = setInterval(function () {
          $('#key').html(urls[i].key);
          $('#myframe').html(urls[i].url).attr('src', urls[i].url);
          if (i == urls.length - 1) {
            i = 0;
          } else {
            i++;
          }
        }, time);
      }
      refresh(9000);
      $('#start').click(function () {
        console.log(Number($('#time').val()) * 1000)
        window.clearInterval(timer);
        refresh (Number($('#time').val()) * 1000);
      });
      $('#end').click(function () {
        window.clearInterval(timer);
      });

      // 定时清浏览器缓存
      var timerCache = setInterval(function () {
        $('body').load(function () {
          javascript:document.yourFormName.reset();
        });
      }, 10 * 60 * 1000);   // 十分钟清一次缓存

      function flashChecker() {  
        var hasFlash = 0;　　　　 //是否安装了flash    
        var flashVersion = 0;　　 //flash版本    
        
        if(document.all) {  
          var swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');  
          if(swf) {  
            hasFlash = 1;  
            VSwf = swf.GetVariable("$version");  
            flashVersion = parseInt(VSwf.split(" ")[1].split(",")[0]);  
          }  
        } else {  
          if(navigator.plugins && navigator.plugins.length > 0) {  
            var swf = navigator.plugins["Shockwave Flash"];  
            if(swf) {  
              hasFlash = 1;  
              var words = swf.description.split(" ");  
              for(var i = 0; i < words.length; ++i) {  
                if(isNaN(parseInt(words[i]))) continue;  
                flashVersion = parseInt(words[i]);  
              }  
            }  
          }  
        }  
        return { f: hasFlash, v: flashVersion };  
      }  
        
      var fls = flashChecker();  
      var s = "";
      console.log(fls.f);
      if(!fls.f) {  
        if(confirm("您的浏览器未安装Flash插件，现在安装？")) {  
          window.location.href = "http://get.adobe.com/cn/flashplayer/";  
        }  
      }  
    });
  </script>
</body>
</html>