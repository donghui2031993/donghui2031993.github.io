<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>胡怼怼专用</title>
  <style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  .background {
    /*display: none;*/
    position: absolute;
    width: 100%;
    height: 100%;
    background: #000;
  }
  #info {
    position: absolute;
    width: 1000px;
    height: 100px;
    margin: auto;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    text-align: center;
    color: #333;
    background: #fff;
    opacity: 1;
    border-radius: 10px;
    padding: 20px;
    /*box-shadow: 0px 0px 50px #f2f2f2;*/
  }
  .setInt, .content {
    line-height: 50px;
  }
  input {
    border-radius: 3px;
    width: 100px;
    height: 28px;
    border: 1px solid #cecece;
    padding: 0 10px;
    margin: 0 10px;
  }
  button {
    border-radius: 15px;
    background: #333;
    width: 80px;
    line-height: 30px;
    border: 0;
    color: #fff;
    margin-left: 10px;
  }
  </style>
</head>
<body>
  <iframe id="myframe" width="100%" height="500px" frameBorder="0" src="https://www.mgtv.com/l/100017744/4255321.html" scrolling="no" style="position: absolute; left: 0;"></iframe>
  <div class="background"></div>
  <div id="info">
    <div class="content">
      <span>正在播放：</span>
      <span id="key">胡一天cut：现场跟“新女友”还原《小美好》</span>
    </div>
    <div class="setInt">
      <span>每隔<input id="time" type="text" value="9" />秒跳转到下一个视频</span>
      <button id="start">重置刷新</button>
    </div>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script>
    $(function () {
      var urls = [{
        key: '1',
        url: 'https://www.mgtv.com/l/100017744.html'
      }, {
        key: '2',
        url: 'https://www.mgtv.com/l/100017744/4354930.html'
      }, {
        key: '3',
        url: 'https://www.mgtv.com/l/100017744/4351976.html'
      }, {
        key: '4',
        url: 'https://www.mgtv.com/l/100017744/4337101.html'
      }, {
        key: '5',
        url: 'https://www.mgtv.com/l/100017744/4337010.html'
      }, {
        key: '6',
        url: 'https://www.mgtv.com/l/100017744/4337166.html'
      }, {
        key: '7',
        url: 'https://www.mgtv.com/l/100017744/4337118.html'
      }, {
        key: '8',
        url: 'https://www.mgtv.com/l/100017744/4337210.html'
      }, {
        key: '9',
        url: 'https://www.mgtv.com/l/100017744/4337189.html'
      }, {
        key: '10',
        url: 'https://www.mgtv.com/l/100017744/4337181.html'
      }, {
        key: '11',
        url: 'https://www.mgtv.com/l/100017744/4333197.html'
      }, {
        key: '12',
        url: 'https://www.mgtv.com/l/100017744/4333198.html'
      }, {
        key: '13',
        url: 'https://www.mgtv.com/l/100017744/4330986.html'
      }, {
        key: '14',
        url: 'https://www.mgtv.com/l/100017744/4330985.html'
      }, {
        key: '15',
        url: 'https://www.mgtv.com/l/100017744/4330984.html'
      }, {
        key: '16',
        url: 'https://www.mgtv.com/l/100017744/4356504.html'
      }, {
        key: '17',
        url: 'https://www.mgtv.com/l/100017744/4252793.html'
      }, {
        key: '18',
        url: 'https://www.mgtv.com/l/100017744/4219457.html'
      }, {
        key: '19',
        url: 'https://www.mgtv.com/l/100017744/4269220.html'
      }, {
        key: '20',
        url: 'https://www.mgtv.com/l/100017744/4308643.html'
      }, {
        key: '21',
        url: 'https://www.mgtv.com/l/100017744/4222655.html'
      }, {
        key: '22',
        url: 'https://www.mgtv.com/l/100017744/4252790.html'
      }, {
        key: '23',
        url: 'https://www.mgtv.com/l/100017744/4255230.html'
      }, {
        key: '24',
        url: 'https://www.mgtv.com/l/100017744/4255321.html'
      }, {
        key: '25',
        url: 'https://www.mgtv.com/l/100017744/4212117.html'
      }, {
        key: '26',
        url: 'https://www.mgtv.com/l/100017744/4323914.html'
      }, {
        key: '27',
        url: 'https://www.mgtv.com/l/100017744/4295937.html'
      }, {
        key: '28',
        url: 'https://www.mgtv.com/l/100017744/4231703.html'
      }, {
        key: '29',
        url: 'https://www.mgtv.com/l/100017744/4286973.html'
      }, {
        key: '30',
        url: 'https://www.mgtv.com/l/100017744/4286970.html'
      }, {
        key: '31',
        url: 'https://www.mgtv.com/l/100017744/4300156.html'
      }, {
        key: '32',
        url: 'https://www.mgtv.com/l/100017744/4222353.html'
      }, {
        key: '33',
        url: 'https://www.mgtv.com/l/100017744/4287098.html'
      }, {
        key: '34',
        url: 'https://www.mgtv.com/l/100017744/4282634.html'
      }, {
        key: '35',
        url: 'https://www.mgtv.com/l/100017744/4224347.html'
      }, {
        key: '36',
        url: 'https://www.mgtv.com/l/100017744/4176716.html'
      }, {
        key: '37',
        url: 'https://www.mgtv.com/l/100017744/4318839.html'
      }, {
        key: '38',
        url: 'https://www.mgtv.com/l/100017744/4214977.html'
      }, {
        key: '39',
        url: 'https://www.mgtv.com/l/100017744/4222444.html'
      }, {
        key: '40',
        url: 'https://www.mgtv.com/l/100017744/4222402.html'
      }, {
        key: '41',
        url: 'https://www.mgtv.com/l/100017744/4223242.html'
      }, {
        key: '42',
        url: 'https://www.mgtv.com/l/100017744/4255276.html'
      }, {
        key: '43',
        url: 'https://www.mgtv.com/l/100017744/4255273.html'
      }, {
        key: '44',
        url: 'https://www.mgtv.com/l/100017744/4255258.html'
      }];

      var timer;
      function refresh () {
        var i = 0;
        timer = setInterval(function () {
          $('#key').html(urls[i].key);
          $('#myframe').html(urls[i].url).attr('src', urls[i].url);
          if (i == urls.length - 1) {
            i = 0;
          } else {
            i++;
          }
        }, Number($('#time').val()) * 1000);
      }
      $('#start').click(function () {
        window.clearInterval(timer);
        refresh ();
      });
      $('#end').click(function () {
        window.clearInterval(timer);
      });

      // 定时清浏览器缓存
      var timerCache = setInterval(function () {
        $('body').load(function () {
          javascript:document.yourFormName.reset();
        });
      }, 10 * 60 * 1000);   // 十分钟清一次缓存

      function flashChecker() {  
        var hasFlash = 0;　　　　 //是否安装了flash    
        var flashVersion = 0;　　 //flash版本    
        
        if(document.all) {  
          var swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');  
          if(swf) {  
            hasFlash = 1;  
            VSwf = swf.GetVariable("$version");  
            flashVersion = parseInt(VSwf.split(" ")[1].split(",")[0]);  
          }  
        } else {  
          if(navigator.plugins && navigator.plugins.length > 0) {  
            var swf = navigator.plugins["Shockwave Flash"];  
            if(swf) {  
              hasFlash = 1;  
              var words = swf.description.split(" ");  
              for(var i = 0; i < words.length; ++i) {  
                if(isNaN(parseInt(words[i]))) continue;  
                flashVersion = parseInt(words[i]);  
              }  
            }  
          }  
        }  
        return { f: hasFlash, v: flashVersion };  
      }  
        
      var fls = flashChecker();  
      var s = "";
      console.log(fls.f);
      if(!fls.f) {  
        if(confirm("您的浏览器未安装Flash插件，现在安装？")) {  
          window.location.href = "http://get.adobe.com/cn/flashplayer/";  
        }  
      }  
    });
  </script>
</body>
</html>